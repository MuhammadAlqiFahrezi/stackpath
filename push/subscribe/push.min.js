!function(e,t,r){window[t]=window[t]||[],r.init=function(i){Notification.requestPermission().then(function(n){for(var a=0;a<window[t].length;a++)window[t][a](n);"granted"===n&&i.getRegistrations().then(function(t){for(var n=0;n<t.length;n++)if(t[n].active&&-1!==t[n].active.scriptURL.indexOf(e))return void t[n].active.postMessage(JSON.stringify(r.getParameters()));i.register(e,{scope:"/firebase-cloud-messaging-push-scope"}).then(function(e){setTimeout(function(){e.active&&e.active.postMessage(JSON.stringify(r.getParameters()))},1e3)}),i.ready.then(function(e){e.active.postMessage(JSON.stringify(r.getParameters()))})})})},r.getQueryParameter=function(e){for(var t=window.location.search.substring(1).split("&"),r=0;r<t.length;r++){var i=t[r].split("=");if(i[0]===e)return i[1]}},r.getParameters=function(){var e={url:location.href,event:"activate",utm_medium:localStorage.getItem("mg_utm_medium"),utm_campaign:localStorage.getItem("mg_utm_campaign"),cookie:document.cookie};return document.referrer&&(e.referrer=document.referrer),"object"==typeof helper&&(helper.userCountry&&(e.country=helper.userCountry),helper.userSources&&(e.sources=helper.userSources),helper.userCategories&&(e.categories=helper.userCategories)),e},r.getCappingOrigin=function(e){return(e=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i))[0].replace("cdn","c")},r.capping=function(e,t,i){localStorage.getItem("mg-old-permission")!==e&&(t=location.host.replace("www.",""),document.createElement("img").src=r.cappingOrigin+"push-event-counter?permission="+e+"&domain="+t,localStorage.setItem("mg-old-permission",e))};var i=document.getElementsByTagName("script");r.cappingOrigin=r.getCappingOrigin((document.currentScript||i[i.length-1]).src),window[t].push(r.capping.bind(this));var n=r.getQueryParameter("utm_medium"),a=r.getQueryParameter("utm_campaign");n&&localStorage.setItem("mg_utm_medium",n),a&&localStorage.setItem("mg_utm_campaign",a),"serviceWorker"in navigator&&("complete"===document.readyState?r.init(navigator.serviceWorker):window.addEventListener("load",function(){r.init(navigator.serviceWorker)}));var o=document.createElement("script"),c=r.cappingOrigin.replace("siteswithcontent","mgid").replace("contentsitesrv","marketgid").replace("usefulcontentsites","mgid");o.src=c+"js-cookie-muidn",o.async=!0,document.head.appendChild(o)}("/firebase-messaging-sw.js?t=7","_NotificationPermissionCallbacks",{});
